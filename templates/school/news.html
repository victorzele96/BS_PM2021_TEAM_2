{% extends 'school/schoolHome.html' %}
{% load static %}
{% block title %}
    <head>
        <link rel="stylesheet" href="/static/styles/schoolStyles/registerStudent.css"/>
        <link type="text/css" rel="stylesheet" href="{% static 'styles/userList.css' %}" />
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    </head>
    <h1 style="width: 80%">News</h1>
{% endblock %}


{% block content %}
{#    <div id="input">#}
{#        <form method="post">#}
{#            {% csrf_token %}#}
{#            {{article_form.as_p}}#}
{#            <button style="background-color:#000000; color:#cd7e09" type="submit">Update</button>#}
{#        </form>#}
{#    </div>#}

    <div style="width: 80%;" class="w3ls-login box box--big">
    <!-- form starts here -->
        <form action="" method="POST">
            {% csrf_token %}
            <div class="grid-container">
                <div class="grid-child-first">
                    <div class="input-group mb-2">
                        <div class="agile-field-txt">
                            {{article_form.title}}
                        </div>
                    </div>
                    <div class="input-group mb-2">
                        <div class="agile-field-txt">
                            {{article_form.body}}
                        </div>
                    </div>
                </div>
            </div>
            <button class="button" style="vertical-align:middle" type="submit"><span>Submit</span></button>
        </form>
    </div>

    <div id="teacher" class="table-wrapper">
        <table class="fl-table">
            <thead>
            <tr>
                <th>Title</th>
                <th>Body</th>
                <th>Date</th>
                <th>Delete</th>
            </tr>
            </thead>
            <tbody>
                {% for article in news %}
                    <tr>
                        <td> {{ article.title }} </td>
                        <td> {{ article.body }} </td>
                        <th> {{ article.date }} </th>
                        <td><a class="" href="{% url 'delete_news' article.id %}">  <i style="font-size: 25px; color: black" class="fa fa-trash"></i> <span></span></a></td>
                    </tr>
                {% endfor %}
            <tbody>
        </table>
    </div>
    <br>
<script>
                        /* Because i didnt set placeholder values in forms.py they will be set here using vanilla Javascript
    //We start indexing at one because CSRF_token is considered and input field
     */

    //Query All input fields
    var form_fields = document.getElementsByTagName('input')
    form_fields[1].placeholder='Title';

    for (var field in form_fields){
        form_fields[field].className += ' form-control'
    }
</script>

{% endblock %}